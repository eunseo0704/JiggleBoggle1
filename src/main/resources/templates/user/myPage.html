<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- 프로젝트 공용 CSS -->
  <link rel="stylesheet" th:href="@{/css/style.css}" />
  <link rel="stylesheet" th:href="@{/css/myPage.css}" />
  <title>JiggleBoggle</title>
</head>
<body class="mypage">
    <form id="mainForm" name="mainForm">
      <input type="hidden" id="userId" name="userId" th:value="${userId}">
      <!-- 로그인 상태별 헤더 주입 -->
      <div th:unless="${isLoggedIn}" th:insert="fragments/header :: site-header"></div>
      <div th:if="${isLoggedIn}" th:insert="fragments/header :: jb-site-header"></div>

      <main class="container">
        <!-- 왼쪽 피드 -->
        <section class="sketchy left-pane">
          <div class="filter-bar">
            <div class="chips" aria-label="정렬">
              <div class="chip active">최신순</div>
              <div class="chip">조회순</div>
              <div class="chip">댓글순</div>
            </div>
          </div>

          <!-- 카드 1 (Unsplash 링크 이미지) -->
          <article class="card" aria-label="레시피 카드" th:each="recipe : ${recipeList}">
              <div class="thumb" aria-hidden="true">
                  <img th:src="${recipe.imagePath}" alt="레시피 이미지" class="thumbImg">
              </div>
              <div>
              <h3 th:text="${recipe.title}"></h3>
              <p th:text="${recipe.rcpDisc}"></p>
              <div class="meta">
                <span class="i" title="분류">
                    <img th:src="@{/imgs/icon/cooker.svg}">
                    [[${recipe.categoryName}]]
                </span>
                <span class="i" title="난이도">
                    <svg viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="1.5"><path d="M12 17.3l-5.4 3.3 1.5-6.1L3 9.8l6.2-.5L12 3l2.8 6.3 6.2.5-5.1 4.7 1.5 6.1z"/></svg>
                    [[${recipe.cookDfctStr}]]
                </span>
                <span class="i" title="소요시간">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="9"/><path d="M12 7v5l3 3"/></svg>
                    [[${recipe.cookTimeStr}]]
                </span>
                <span class="i" title="조회수">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21c0-4-4-7-8-7s-8 3-8 7"/><circle cx="12" cy="7" r="4"/></svg>
                    [[${recipe.viewCount}]]
                </span>

              </div>
            </div>
          </article>
        </section>

        <!-- 오른쪽 상단: 프로필 -->
        <aside class="sketchy right-pane">
          <div class="profile">
            <div class="big-avatar"></div>
            <div class="nickname">불빨간 토마토</div>
            <div class="sub">자기소개를 등록할 수 있습니다</div>
            <div class="upload" title="레시피 업로드">＋</div>
            <div class="hint">총올림0 · 팔로워0 · 팔로잉0</div>
          </div>
        </aside>

<!--        &lt;!&ndash; 오른쪽 하단: 요리 후기 &ndash;&gt;-->
<!--        <section class="sketchy reviews-pane" aria-label="요리 후기">-->
<!--          <h3 class="section-title">요리 후기</h3>-->
<!--          <div class="empty">아직 후기가 없어요</div>-->
<!--        </section>-->
<!--          -->
     </main>
    </form>
</body>
</html>
